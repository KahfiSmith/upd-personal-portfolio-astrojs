---
import SiteLayout from "@/layouts/SiteLayout.astro";
import works from "@/data/works";

const { slug } = Astro.params;
const work = works.find((w) => w.slug === slug);
if (!work) {
  Astro.response.status = 404;
}
---

<SiteLayout title={work ? `${work.title} â€” Works` : 'Not found'}>
  <main class="mx-auto max-w-3xl px-6 py-16 sm:py-24">
    {work ? (
      <>
        <p class="text-sm text-neutral-400">{work.year}</p>
        <h1 class="text-3xl sm:text-4xl font-semibold mt-1">{work.title}</h1>
        <p class="mt-4 text-neutral-300 leading-relaxed">{work.description}</p>
        {work.tech?.length > 0 && (
          <div class="mt-6 flex flex-wrap gap-2">
            {work.tech.map((t) => (
              <span class="px-2.5 py-1 rounded bg-neutral-800/70 text-neutral-300 text-xs">{t}</span>
            ))}
          </div>
        )}
        {work.url && (
          <a href={work.url} target="_blank" rel="noreferrer" class="inline-flex mt-8 items-center gap-2 rounded-md bg-blue-500/90 hover:bg-blue-400 text-neutral-900 px-5 py-2.5 font-medium transition-colors">
            Kunjungi
          </a>
        )}
      </>
    ) : (
      <h1 class="text-2xl font-semibold">Work not found</h1>
    )}
  </main>
</SiteLayout>

